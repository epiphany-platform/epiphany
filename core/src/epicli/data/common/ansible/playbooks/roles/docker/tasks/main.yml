---
# Docker (used by master & worker as dependency)

- name: Install Docker for Debian family
  package:
    name: "{{ item }}"
    state: present
  loop:
    - apt-transport-https
    - ca-certificates
    - containerd.io
    - docker-ce-cli
    - docker-ce=5:18.09.6 
  when: ansible_os_family == "Debian"

- name: Install Docker for RedHat family
  package:
    name: "{{ item }}"
    state: present
  loop:
      - container-selinux
      - docker-ce
  when: ansible_os_family == "RedHat"

- include_tasks: configure-docker.yml
