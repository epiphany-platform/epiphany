kind: configuration/dependencies
version: 0.3.0
title: "List of dependencies for Epiphany Platform"
name: default
specification:
  zookeeper:
    '3.4.12':
      files:
        - id: zookeeper
          version: '3.4.12'
      packages:
        - id: openjdk-8-jre
          version: 8u222-b10-1ubuntu1
        - id: java-1.8.0-openjdk
          version: '1.8.0'
  prometheus:
    '2.10.0':
      files:
        - id: prometheus
          version: '2.10.0'
  alertmanager:
    '0.17.0':
      files:
        - id: alertmanager
          version: '0.17.0'
  node_exporter:
    '0.16.0':
      files:
        - id: node_exporter
          version: '0.16.0'
  kafka_exporter:
    '1.2.0':
      files:
        - id: kafka_exporter
          version: '1.2.0'
  kafka:
    '2.0.0':
      packages:
        - id: openjdk-8-jre
          version: 8u222-b10-1ubuntu1
        - id: java-1.8.0-openjdk
          version: '1.8.0'
      files:
        - id: kafka_2.12-2.0.0
          version: '2.0.0'        
  jmx_exporter:
    '0.12.0':
      files:
        - id: jmx_prometheus_javaagent
          version: '0.12.0'
  haproxy_exporter:
    0.10.0:
      files:
        - id: haproxy_exporter
          version: 0.10.0
  rabbitmq:
    3.7.10:
      packages:
        - id: socat
          version: 1.7.3.2
          os_family: RedHat
        - id: socat
          version: 1.7.3.2
          os_family: Debian
        - id: erlang # RedHat
          version: 21.2.2
          os_family: RedHat
        - id: init-system-helpers # Debian
          version: '1.51'
          os_family: Debian
        - id: adduser # Debian
          version: 3.116ubuntu1
          os_family: Debian
        - id: logrotate # Debian
          version: 3.11.0
          os_family: Debian
        - id: logrotate # Redhat
          version: 3.8.6       
          os_family: RedHat  
        - id: rabbitmq-server
          version: 3.7.10
          os_family: Debian
        - id: rabbitmq-server
          version: 3.7.10
          os_family: RedHat
  postgresql:
    '10':
      packages:
        - id: rh-postgresql10-postgresql
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-syspaths 
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-server
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-server-syspaths
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-contrib 
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-contrib-syspaths
          version: '10.6'
          os_family: RedHat
        - id: rh-postgresql10-postgresql-libs 
          version: '10.6'
          os_family: RedHat
        - id: python-psycopg2 
          version: '2.5.1'
          os_family: RedHat
        - id: python-psycopg2 
          version: '2.7.4'
          os_family: Ubuntu 
        - id: postgresql-10 
          version: '10.10'
          os_family: Ubuntu

  kibana:
    6.4.0:
      packages:
        - id: kibana-oss
          version: 6.4.0
  haproxy:
    '1.8':
      packages:
        - id: haproxy
          version: 1.8.8 # Debian
        - id: rh-haproxy18
          version: 3.1 # RedHat
        - id: rh-haproxy18-haproxy-syspaths
          version: 1.8.17 # RedHat
  filebeat:
    6.5.4:
      packages:
        - id: filebeat-oss
          version: 6.5.4
  elasticsearch_curator:
    5.5.4_amd64:
      packages:
        - id: elasticsearch-curator
          version: 5.5.4_amd64
    5.5.4-1.x86_64:
      packages:
        - id: elasticsearch-curator
          version: 5.5.4-1.x86_64
  elasticsearch:
    6.4.0:
      packages:
        - id: openjdk-8-jre # Debian
          version: 8u222-b10-1ubuntu1
        - id: java-1.8.0-openjdk # RedHat
          version: 1.8.0
        - id: elasticsearch-oss
          version: 6.4.0
  grafana:
    6.2.5:
      packages:
        - id: apt-transport-https # Ubuntu specific
          version: 1.6.11
        - id: ca-certificates  # Ubuntu specific
          version: '20180409'
        - id: adduser  # Ubuntu specific
          version: 3.116ubuntu1
        - id: libfontconfig1  # Ubuntu specific
          version: 2.12.6-0ubuntu2
        - id: gnupg2 # Ubuntu specific
          version: 2.2.4-1ubuntu1.2
        - id: grafana
          version: 6.2.5
  docker:
    18.09.6:
      packages:
        - id: apt-transport-https # Ubuntu specific
          version: 1.6.11
        - id: ca-certificates  # Ubuntu specific
          version: '20180409'
        - id: container-selinux
          version: '2.74' # just for RedHat family <= 7.5, if modified: please update ansible role
        - id: container-selinux
          version: '2.99' # just for RedHat family >= 7.6, if modified: please update ansible role
        - id: containerd.io
          version: 1.2.6
        - id: docker-ce-cli
          version: 18.09.6
        - id: docker-ce
          version: 18.09.6
  kubernetes:
    1.14.4:
      packages:
        - id: cifs-utils # RedHat
          version: '6.2'
        - id: cifs-utils # Ubuntu
          version: '6.8'
        - id: smbclient # Ubuntu
          version: 4.7.6
        - id: samba-client # RedHat
          version: 4.8.3
        - id: samba-common # Ubuntu
          version: 4.7.6
        - id: samba-common # RedHat
          version: 4.8.3
        - id: socat
          version: 1.7.3.2
        - id: libnetfilter_queue # RedHat
          version: 1.0.2
        - id: libnetfilter_cttimeout # RedHat
          version: 1.0.0
        - id: libnetfilter_cthelper # RedHat
          version: 1.0.0
        - id: conntrack-tools # RedHat
          version: 1.4.4
        - id: nfs-utils # RedHat
          version: 1.3.0
        - id: nfs-common # Ubuntu
          version: 1.3.4 
        - id: kubelet
          version: 1.14.4
        - id: kubernetes-cni
          version: 0.7.5
        - id: kubectl
          version: 1.14.4
        - id: cri-tools
          version: 1.13.0
        - id: kubeadm
          version: 1.14.4
      images:
        - k8s.gcr.io/kube-apiserver:v1.14.4
        - k8s.gcr.io/kube-controller-manager:v1.14.4
        - k8s.gcr.io/kube-scheduler:v1.14.4
        - k8s.gcr.io/kube-proxy:v1.14.4
        - k8s.gcr.io/pause:3.1
        - k8s.gcr.io/etcd:3.3.10
        - k8s.gcr.io/coredns:1.5.0
        - quay.io/coreos/flannel:v0.11.0-amd64
        - calico/kube-controllers:v3.8.0
        - calico/node:v3.8.0
        - kubernetesui/dashboard:v2.0.0-beta1
        - kubernetesui/metrics-scraper:v1.0.0
        - calico/cni:v3.8.1
