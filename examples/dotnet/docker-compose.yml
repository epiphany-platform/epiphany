version: '3.4'

services:
  epiphany.examples:
    image: epiphanyplatform/epiphany-examples-api
    build:
      context: .
      dockerfile: Epiphany.Examples/Dockerfile

  epiphany.examples.consumer:
    image: epiphanyplatform/epiphany-messaging-console
    build:
      context: .
      dockerfile: Epiphany.Examples.Messaging.Console/Dockerfile


  epiphany.examples.web:
    image: ${DOCKER_REGISTRY}epiphanyexamplesweb
    build:
      context: .
      dockerfile: Epiphany.Examples.Web/Dockerfile


  epiphany.examples.iothub.connector.console:
    image: ${DOCKER_REGISTRY}epiphanyexamplesiothubconnectorconsole
    build:
      context: .
      dockerfile: Epiphany.Examples.IoTHub.Connector.Console/Dockerfile


  epiphany.examples.iothub.metrics.collector:
    image: ${DOCKER_REGISTRY}epiphanyexamplesiothubmetricscollector
    build:
      context: .
      dockerfile: Epiphany.Examples.IoTHub.Metrics.Collector/Dockerfile


  epiphany.examples.iothub.metrics:
    image: ${DOCKER_REGISTRY}epiphanyexamplesiothubmetrics
    build:
      context: .
      dockerfile: ../Epiphany.Examples.IoTHub.Metrics/Dockerfile

